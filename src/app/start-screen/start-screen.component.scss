$black: #0c0c0c;
$red: #e11d2f;
$orange: #f97316;
$yellow: #fde047;
$gold: #d4af37;
$gray: #8b8b8b;
$brown: #7a4b2e;
$white: #ffffff;

@function clamp-fluid($min, $vw, $max) {
    @return clamp($min, $vw, $max);
}

* {
    box-sizing: border-box;
}

html,
body {
    height: 100%;
}

body {
    margin: 0;
    background: $black;
    color: $white;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
}

.start-screen {
    width: 100vw;
    height: 100vh;
    max-width: 100%;
    display: flex;
    justify-content: space-around;
    align-items: center;
    flex-direction: column;
    position: relative;
    overflow: hidden;
    padding: clamp-fluid(1rem, 2vw, 2rem);

    background:
        radial-gradient(1200px 1200px at 50% 120%, rgba($brown, .15), transparent 60%),
        radial-gradient(800px 800px at 10% 10%, rgba($gray, .08), transparent 60%),
        radial-gradient(600px 600px at 90% 20%, rgba($red, .08), transparent 60%),
        linear-gradient(180deg, #0b0b0b, #0a0a0a 30%, #111 70%, #0a0a0a);

    &::before,
    &::after {
        content: "";
        position: absolute;
        inset: -10%;
        pointer-events: none;
    }

    &::before {
        background:
            radial-gradient(closest-side, rgba($yellow, .1), rgba($yellow, .06) 30%, transparent 32%) center/55vmin 55vmin no-repeat,
            conic-gradient(from 0deg,
                rgba($red, .0),
                rgba($red, .5) 12%,
                rgba($orange, .55) 18%,
                rgba($yellow, .5) 24%,
                rgba($gold, .45) 30%,
                rgba($orange, .55) 38%,
                rgba($red, .5) 45%,
                rgba($red, .0) 55%) center/60vmin 60vmin no-repeat;
        mix-blend-mode: screen;
        filter: blur(18px) saturate(130%);
        animation: spin 24s linear infinite;
        transform-origin: center;
    }

    &::after {
        --embers:
            radial-gradient(8px 8px at 50% 50%, rgba($yellow, .9), rgba($orange, .2) 60%, transparent 61%),
            radial-gradient(6px 6px at 50% 50%, rgba($gold, .8), rgba($red, .15) 60%, transparent 61%),
            radial-gradient(5px 5px at 50% 50%, rgba($yellow, .75), rgba($orange, .1) 60%, transparent 61%),
            radial-gradient(4px 4px at 50% 50%, rgba($white, .7), rgba($yellow, .05) 60%, transparent 61%);
        background-image: var(--embers), var(--embers), var(--embers), var(--embers);
        background-repeat: no-repeat;
        background-position:
            10% 110%, 30% 120%, 50% 115%, 70% 118%,
            20% 130%, 40% 128%, 60% 132%, 80% 126%;
        background-size:
            8px 8px, 6px 6px, 5px 5px, 4px 4px;
        animation: embers 10s linear infinite;
        opacity: .8;
    }

    h1 {
        margin: 0;
        text-transform: uppercase;
        letter-spacing: .06em;
        font-weight: 800;
        font-size: clamp-fluid(2rem, 8vw, 6rem);
        line-height: 1;
        position: relative;
        padding-inline: .8rem;
        background: linear-gradient(180deg, $yellow 0%, $orange 35%, $red 65%, $brown 100%);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow:
            0 0 12px rgba($yellow, .25),
            0 0 30px rgba($orange, .25),
            0 0 60px rgba($red, .2);
        animation: heat-flicker 4s ease-in-out infinite;

        &::after {
            content: "♠  ♣  ♥  ♦";
            position: absolute;
            inset-inline: 0;
            bottom: -1.5rem;
            text-align: center;
            font-size: clamp-fluid(.9rem, 2.5vw, 1.3rem);
            color: rgba($white, .8);
            text-shadow:
                0 0 6px rgba($gold, .6),
                0 0 14px rgba($orange, .4);
            letter-spacing: .6em;
            animation: float 6s ease-in-out infinite;
            pointer-events: none;
            filter: drop-shadow(0 2px 6px rgba($black, .6));
        }
    }

    .start-label-box {
        position: relative;
        padding: 1rem;
        border-radius: 1.25rem;
        background: linear-gradient(180deg, rgba($white, .06), rgba($white, .02));
        backdrop-filter: blur(8px);
        border: 1px solid rgba($gold, .25);
        box-shadow:
            0 8px 24px rgba($black, .6),
            inset 0 0 50px rgba($white, .02);
    }

    button {
        appearance: none;
        border: none;
        cursor: pointer;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: .06em;
        font-size: clamp-fluid(1rem, 2.4vw, 1.25rem);
        padding: .95rem 2.1rem;
        color: $black;
        border-radius: 999px;
        position: relative;
        z-index: 0;

        background:
            linear-gradient(180deg, rgba($white, .35), rgba($white, 0)) padding-box,
            linear-gradient(90deg, $gold, $yellow, $orange, $red) border-box;
        border: 2px solid transparent;
        box-shadow:
            0 10px 28px rgba($red, .35),
            0 3px 0 rgba($brown, .8) inset;

        &::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            background: radial-gradient(120% 180% at -10% -20%, rgba($white, .55), transparent 35%),
                radial-gradient(180% 120% at 120% 120%, rgba($yellow, .2), transparent 40%);
            mix-blend-mode: screen;
            pointer-events: none;
        }

        &::after {
            content: "";
            position: absolute;
            left: 10%;
            right: 10%;
            bottom: -6px;
            height: 6px;
            border-radius: 6px;
            background: linear-gradient(90deg, transparent, $yellow, $orange, $red, transparent);
            filter: blur(2px);
            opacity: .75;
            transform-origin: left;
            transform: scaleX(.6);
            transition: transform .4s ease, opacity .4s ease;
            animation: shimmer 2.5s linear infinite;
        }

        &:hover {
            transform: translateY(-2px);
            box-shadow:
                0 16px 40px rgba($red, .45),
                0 3px 0 rgba($brown, .8) inset;

            &::after {
                transform: scaleX(1);
                opacity: 1;
            }
        }

        &:active {
            transform: translateY(0);
            box-shadow:
                0 8px 22px rgba($red, .35),
                0 1px 0 rgba($brown, .85) inset;
        }
    }

    .cards-fan {
        display: none;
    }

    &::marker {
        content: none;
    }

    &>._fan {
        display: none;
    }

    .start-screen__cards {
        display: none;
    }

    box-shadow: inset 0 -140px 200px -80px rgba($black, .9);

    &::selection {
        background: rgba($red, .35);
        color: $white;
    }
}

.start-screen::marker {
    content: "";
}

.start-screen .fan-shadow {
    display: none;
}

@media (max-width: 640px) {
    .start-screen {
        justify-content: center;
        gap: 1.25rem;
    }

    .start-screen h1::after {
        bottom: -1rem;
        letter-spacing: .45em;
    }

    .start-label-box {
        width: min(100%, 420px);
        text-align: center;
    }
}

@media (min-width: 1200px) {
    .start-label-box {
        padding: 1.25rem 1.5rem;
    }
}

@media (prefers-reduced-motion: reduce) {

    .start-screen::before,
    .start-screen::after,
    .start-screen h1,
    .start-screen button::after {
        animation: none !important;
    }
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

@keyframes heat-flicker {

    0%,
    100% {
        filter: drop-shadow(0 0 24px rgba($orange, .45)) saturate(105%);
    }

    25% {
        filter: drop-shadow(0 0 30px rgba($yellow, .55)) saturate(120%);
    }

    50% {
        filter: drop-shadow(0 0 18px rgba($red, .4)) saturate(110%);
    }

    75% {
        filter: drop-shadow(0 0 28px rgba($gold, .5)) saturate(125%);
    }
}

@keyframes float {

    0%,
    100% {
        transform: translateY(0);
        opacity: .95;
    }

    50% {
        transform: translateY(-6px);
        opacity: 1;
    }
}

@keyframes shimmer {
    0% {
        background-position: 0% 50%;
    }

    100% {
        background-position: 200% 50%;
    }
}

@keyframes embers {
    0% {
        background-position:
            10% 110%, 30% 120%, 50% 115%, 70% 118%,
            20% 130%, 40% 128%, 60% 132%, 80% 126%;
        opacity: .75;
    }

    50% {
        background-position:
            12% 70%, 28% 65%, 52% 60%, 68% 66%,
            18% 75%, 44% 72%, 58% 78%, 82% 70%;
        opacity: .9;
    }

    100% {
        background-position:
            14% 20%, 26% 15%, 54% 10%, 66% 16%,
            16% 25%, 46% 22%, 56% 28%, 84% 20%;
        opacity: .7;
    }
}